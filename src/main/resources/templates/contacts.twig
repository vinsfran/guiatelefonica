{% extends asset('templates/layouts/layout.twig') %}

{% block title %}Contacts{% endblock %}


{% block content %}

    <div class="container">
        <br/>
        <div class="panel panel-default">
            <div class="panel-heading">Contacts</div>
            <table class="table">
                <thead>
                    <tr>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Telephone</th>
                        <th>City</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>

                    {% for contact in contacts %}
                        <tr>
                            <td>{{contact.firstname}}</td>
                            <td>{{contact.lastname}}</td>
                            <td>{{contact.telephone}}</td>
                            <td>{{contact.city}}</td>
                            <td>
                                <a href="/contacts/contactform?id={{contact.id}}">
                                    <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
                                </a>
                                <a href="/contacts/removecontact?id={{contact.id}}">
                                    <button type="button" class="btn btn-danger"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>
                                </a>
                            </td>
                        </tr>
                    {% endfor %}

                </tbody>
            </table>
        </div>

        <div th:if="${result == 1}" class="alert alert-success" role="alert">Added successfully!</div>
        <div th:if="${result == 0}" class="alert alert-danger" role="alert">Error adding contact!</div>

        <a href="#" th:href="@{/contacts/contactform?id=0}">
            <button class="btn btn-lg btn-primary btn-block" type="submit"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> Add contact</button>
        </a>

        <a href="#" th:href="@{/prueba/prueba}">
            <button class="btn btn-lg btn-primary btn-block" type="submit"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> Prueba</button>
        </a>

        <a href="/admin/">
            <button class="btn btn-lg btn-primary btn-block" type="submit"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> Admin</button>
        </a>

        <form action="/logout" method="POST">
            <button class="btn btn-lg btn-primary btn-block" type="submit"><span class="glyphicon glyphicon-log-out" aria-hidden="true"></span> Logout</button>
        </form>

        <a href="#" th:href="@{/rest/checkrest}">Rest Request!</a>

    </div>

{% endblock %}
