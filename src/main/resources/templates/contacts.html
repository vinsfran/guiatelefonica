<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layout">

    <head layout:replace="fragments/head :: head">
        <title layout:fragment="title">Contacts</title>
    </head>

    <body>
        <div th:fragment="content">
            <div class="container">

                <h1>Hello, <span th:text="${username}"></span>!!!!!!!</h1>
                <br/>
                <div class="panel panel-default">
                    <div class="panel-heading"></div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>First Name</th>
                                <th>Last Name</th>
                                <th>Telephone</th>
                                <th>City</th>
                                <th>Actions</th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="contact : ${contacts}">
                                <td th:text="${contact.firstname}"></td>
                                <td th:text="${contact.lastname}"></td>
                                <td th:text="${contact.telephone}"></td>
                                <td th:text="${contact.city}"></td>
                                <td>
                                    <a href="#" th:href="@{/contacts/contactform?id=__${contact.id}__}">
                                        <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
                                    </a>
                                    <a href="#" th:href="@{/contacts/removecontact?id=__${contact.id}__}">
                                        <button type="button" class="btn btn-danger"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div th:if="${result == 1}" class="alert alert-success" role="alert">Added successfully!</div>
                <div th:if="${result == 0}" class="alert alert-danger" role="alert">Error adding contact!</div>

                <a href="#" th:href="@{/contacts/contactform?id=0}">
                    <button class="btn btn-lg btn-primary btn-block" type="submit"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> Add contact</button>
                </a>

                <a href="#" th:href="@{/prueba/prueba}">
                    <button class="btn btn-lg btn-primary btn-block" type="submit"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> Prueba</button>
                </a>

                <form th:action="@{/logout}" method="POST">
                    <button class="btn btn-lg btn-primary btn-block" type="submit"><span class="glyphicon glyphicon-log-out" aria-hidden="true"></span> Logout</button>
                </form>

                <a href="#" th:href="@{/rest/checkrest}">Rest Request!</a>

            </div>
        </div>

    </body>
</html>